webpackJsonp(["PinFeedbackButtonCommon",180],{Np1h:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"PinFeedbackButton",function(){return w});var o=n("d6ZO"),r=n.n(o),i=n("DUIN"),a=n("W/Cr"),c=n("r/ec"),u=n("e+EL"),l=n("6oz1"),s=n("gEaE"),f=n("woYD"),p=n("Z6T2");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return o=this,r=(e=b(t)).call.apply(e,[this].concat(c)),n=!r||"object"!==d(r)&&"function"!=typeof r?h(o):r,v(h(h(n)),"state",{showPinFeedbackModal:!1}),v(h(h(n)),"setAnchor",function(e){n.anchor=e}),v(h(h(n)),"showConfirmation",function(){var e=n.props,t=e.dispatch,o=e.pinId;t(Object(p.a)(o,{title:a.a._("Pin reported.")}))}),v(h(h(n)),"handleFeedbackButtonClick",function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),n.state.showPinFeedbackModal?n.dismissFlyout():n.setState({showPinFeedbackModal:!0}),n.handleButtonClickLogging()}),v(h(h(n)),"dismissFlyout",function(){var e=n.props,t=e.dispatch,o=e.pinId;t(Object(p.c)(o)),n.setState({showPinFeedbackModal:!1})}),v(h(h(n)),"handleLinkClick",function(){n.state.showPinFeedbackModal&&n.dismissFlyout()}),n}var n,i,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o["Component"]),n=t,(i=[{key:"handleButtonClickLogging",value:function(){var e=this.props,t=e.feedbackType,n=e.pinId,o=e.viewParameter,r=e.viewType;Object(f.a)(101,{objectId:n,view:r,viewParameter:o,element:981,component:0,feedback_type:t})}},{key:"renderPinFeedback",value:function(){var e=this,t=this.props,n=t.ad_match_reason,o=t.board,i=t.feedbackType,a=t.feedbackData,c=t.hideDownload,s=t.pinId,f=t.pinImage,p=t.pinDescription,d=t.pinTitle,y=t.pinner,b=t.promoter,m=t.recommendationReason,h=t.reportPin,v=t.sourceInterest,w=t.viewParameter,O=t.viewType;return r.a.createElement(l.a,{name:"web_homefeed_control_contextual_menu_v2"},function(t){var l=t.anyEnabled;return r.a.createElement(u.a,{ad_match_reason:n,board:o,feedbackType:i,feedbackData:a,hideDownload:!!c,isContextMenuV2Exp:l,onContentChanged:function(){return e.forceUpdate()},onLinkClick:e.handleLinkClick,onHide:e.dismissFlyout,pinId:s,pinImgSrc:f,pinDescription:p,pinTitle:d,pinner:y,promoter:b,recommendationReason:m,reportPin:h,sourceInterest:v,viewParameter:w,viewType:O})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{ref:this.setAnchor},r.a.createElement(s.o,{accessibilityLabel:a.a._("More information"),icon:"ellipsis",iconColor:"gray",onClick:this.handleFeedbackButtonClick,size:this.props.size})),this.state.showPinFeedbackModal&&r.a.createElement(c.a,{anchor:this.anchor,idealDirection:"right",onDismiss:this.dismissFlyout,size:"md"},this.renderPinFeedback()))}}])&&y(n.prototype,i),w&&y(n,w),t}();v(w,"defaultProps",{size:"xs"}),t.default=Object(i.connect)()(w)},"r/ec":function(e,t,n){"use strict";var o=n("d6ZO"),r=(n.n(o),n("impO"));function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){function t(){var e,n,o,r,c,l,f;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var p=arguments.length,d=new Array(p),y=0;y<p;y++)d[y]=arguments[y];return o=this,r=(e=u(t)).call.apply(e,[this].concat(d)),n=!r||"object"!==i(r)&&"function"!=typeof r?s(o):r,c=s(s(n)),f=function(){var e=n.props,t=e.setActive,o=e.showOnTopOfModal;t("flyout",a(e,["setActive","showOnTopOfModal"]),o||!1)},(l="renderFlyout")in c?Object.defineProperty(c,l,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[l]=f,n}var n,r,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.renderFlyout()}},{key:"componentDidUpdate",value:function(){this.renderFlyout()}},{key:"componentWillUnmount",value:function(){this.props.setActive()}},{key:"render",value:function(){return null}}])&&c(n.prototype,r),f&&c(n,f),t}(),p=function(e){return o.createElement(r.a.Consumer,null,function(t){return o.createElement(f,Object.assign({},e,{setActive:t}))})};p.displayName="MasonryFlyout",t.a=p}});